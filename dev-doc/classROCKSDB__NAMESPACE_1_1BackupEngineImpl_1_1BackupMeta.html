<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>autotier: ROCKSDB_NAMESPACE::BackupEngineImpl::BackupMeta Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">autotier
   </div>
   <div id="projectbrief">Automatic Tiering Fuse Filesystem</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceROCKSDB__NAMESPACE.html">ROCKSDB_NAMESPACE</a></li><li class="navelem"><a class="el" href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl.html">BackupEngineImpl</a></li><li class="navelem"><a class="el" href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta.html">BackupMeta</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ROCKSDB_NAMESPACE::BackupEngineImpl::BackupMeta Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for ROCKSDB_NAMESPACE::BackupEngineImpl::BackupMeta:</div>
<div class="dyncontent">
<div class="center"><img src="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta__coll__graph.png" border="0" usemap="#ROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta_coll__map" alt="Collaboration graph"/></div>
<map name="ROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta_coll__map" id="ROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta_coll__map">
<area shape="rect" title=" " alt="" coords="149,317,379,359"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1Env.html" title=" " alt="" coords="5,221,211,247"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1ThreadStatusUpdater.html" title=" " alt="" coords="17,109,199,151"/>
<area shape="rect" href="structROCKSDB__NAMESPACE_1_1ThreadStatusData.html" title=" " alt="" coords="17,5,199,47"/>
<area shape="rect" title=" " alt="" coords="235,221,293,247"/>
<area shape="rect" href="structROCKSDB__NAMESPACE_1_1IOOptions.html" title=" " alt="" coords="317,213,499,255"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10261d72847570cc1fb000c1e6f737e7"><td class="memItemLeft" align="right" valign="top"><a id="a10261d72847570cc1fb000c1e6f737e7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BackupMeta</b> (const std::string &amp;meta_filename, const std::string &amp;meta_tmp_filename, std::unordered_map&lt; std::string, std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt;&gt; *file_infos, <a class="el" href="classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, const std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1FileSystem.html">FileSystem</a> &gt; &amp;fs)</td></tr>
<tr class="separator:a10261d72847570cc1fb000c1e6f737e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac835a8cd303597802121892cdcf158"><td class="memItemLeft" align="right" valign="top"><a id="a5ac835a8cd303597802121892cdcf158"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BackupMeta</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta.html">BackupMeta</a> &amp;)=delete</td></tr>
<tr class="separator:a5ac835a8cd303597802121892cdcf158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d0e35b07690f59e55b0aba83a505c7"><td class="memItemLeft" align="right" valign="top"><a id="a94d0e35b07690f59e55b0aba83a505c7"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta.html">BackupMeta</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1BackupMeta.html">BackupMeta</a> &amp;)=delete</td></tr>
<tr class="separator:a94d0e35b07690f59e55b0aba83a505c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca9256810016bf897a7fbe38fa93a56"><td class="memItemLeft" align="right" valign="top"><a id="aeca9256810016bf897a7fbe38fa93a56"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>RecordTimestamp</b> ()</td></tr>
<tr class="separator:aeca9256810016bf897a7fbe38fa93a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e15660e8216f56aa06910b571ca70f"><td class="memItemLeft" align="right" valign="top"><a id="a55e15660e8216f56aa06910b571ca70f"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetTimestamp</b> () const</td></tr>
<tr class="separator:a55e15660e8216f56aa06910b571ca70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9cf6902564054d993797952c3a40171"><td class="memItemLeft" align="right" valign="top"><a id="af9cf6902564054d993797952c3a40171"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetSize</b> () const</td></tr>
<tr class="separator:af9cf6902564054d993797952c3a40171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a19ba551471186d5fb053f9d55720a3"><td class="memItemLeft" align="right" valign="top"><a id="a4a19ba551471186d5fb053f9d55720a3"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumberFiles</b> () const</td></tr>
<tr class="separator:a4a19ba551471186d5fb053f9d55720a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae900cab03996bef9e4872c2221099ec9"><td class="memItemLeft" align="right" valign="top"><a id="ae900cab03996bef9e4872c2221099ec9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetSequenceNumber</b> (uint64_t sequence_number)</td></tr>
<tr class="separator:ae900cab03996bef9e4872c2221099ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8fd3cb9374e6a416f59f96c7a00bd9"><td class="memItemLeft" align="right" valign="top"><a id="a2d8fd3cb9374e6a416f59f96c7a00bd9"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetSequenceNumber</b> () const</td></tr>
<tr class="separator:a2d8fd3cb9374e6a416f59f96c7a00bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ef2260165e44bdcbfbf10fd84fba1f"><td class="memItemLeft" align="right" valign="top"><a id="a62ef2260165e44bdcbfbf10fd84fba1f"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetAppMetadata</b> () const</td></tr>
<tr class="separator:a62ef2260165e44bdcbfbf10fd84fba1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0bd0bca4d64ceb0ba0f1b32557568d"><td class="memItemLeft" align="right" valign="top"><a id="a1c0bd0bca4d64ceb0ba0f1b32557568d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetAppMetadata</b> (const std::string &amp;app_metadata)</td></tr>
<tr class="separator:a1c0bd0bca4d64ceb0ba0f1b32557568d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f88ac7d0830f3d72841e1734b8bece"><td class="memItemLeft" align="right" valign="top"><a id="a29f88ac7d0830f3d72841e1734b8bece"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1IOStatus.html">IOStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><b>AddFile</b> (std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt; file_info)</td></tr>
<tr class="separator:a29f88ac7d0830f3d72841e1734b8bece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f53a9d3186df493734a0dbe7d6646e"><td class="memItemLeft" align="right" valign="top"><a id="a96f53a9d3186df493734a0dbe7d6646e"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1IOStatus.html">IOStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Delete</b> (bool delete_meta=true)</td></tr>
<tr class="separator:a96f53a9d3186df493734a0dbe7d6646e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0695ebb80e973484742edce94f15f1"><td class="memItemLeft" align="right" valign="top"><a id="add0695ebb80e973484742edce94f15f1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Empty</b> () const</td></tr>
<tr class="separator:add0695ebb80e973484742edce94f15f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8549032522c49529c6b588410e70dae"><td class="memItemLeft" align="right" valign="top"><a id="ab8549032522c49529c6b588410e70dae"></a>
std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetFile</b> (const std::string &amp;filename) const</td></tr>
<tr class="separator:ab8549032522c49529c6b588410e70dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd79f9c4252077898625f320eb558dc"><td class="memItemLeft" align="right" valign="top"><a id="aabd79f9c4252077898625f320eb558dc"></a>
const std::vector&lt; std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetFiles</b> () const</td></tr>
<tr class="separator:aabd79f9c4252077898625f320eb558dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60338432d5f2889b4c1a5a8dc4b2a9e"><td class="memItemLeft" align="right" valign="top"><a id="aa60338432d5f2889b4c1a5a8dc4b2a9e"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1IOStatus.html">IOStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><b>LoadFromFile</b> (const std::string &amp;backup_dir, const std::unordered_map&lt; std::string, uint64_t &gt; &amp;abs_path_to_size, <a class="el" href="classROCKSDB__NAMESPACE_1_1RateLimiter.html">RateLimiter</a> *rate_limiter, <a class="el" href="classROCKSDB__NAMESPACE_1_1Logger.html">Logger</a> *info_log, std::unordered_set&lt; std::string &gt; *reported_ignored_fields)</td></tr>
<tr class="separator:aa60338432d5f2889b4c1a5a8dc4b2a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfd9f1c57acc78a4ea3eb124a3d05f7"><td class="memItemLeft" align="right" valign="top"><a id="a9dfd9f1c57acc78a4ea3eb124a3d05f7"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1IOStatus.html">IOStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><b>StoreToFile</b> (bool sync, const <a class="el" href="structROCKSDB__NAMESPACE_1_1TEST__FutureSchemaVersion2Options.html">TEST_FutureSchemaVersion2Options</a> *test_future_options)</td></tr>
<tr class="separator:a9dfd9f1c57acc78a4ea3eb124a3d05f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573789403b7a243e4d2f25300e265644"><td class="memItemLeft" align="right" valign="top"><a id="a573789403b7a243e4d2f25300e265644"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>GetInfoString</b> ()</td></tr>
<tr class="separator:a573789403b7a243e4d2f25300e265644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0236c2738d29547856d7c9cdffac554"><td class="memItemLeft" align="right" valign="top"><a id="ab0236c2738d29547856d7c9cdffac554"></a>
const std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1Env.html">Env</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetEnvForOpen</b> () const</td></tr>
<tr class="separator:ab0236c2738d29547856d7c9cdffac554"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af9ea45a081ca17b098cc7b1d2979ace1"><td class="memItemLeft" align="right" valign="top"><a id="af9ea45a081ca17b098cc7b1d2979ace1"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>timestamp_</b></td></tr>
<tr class="separator:af9ea45a081ca17b098cc7b1d2979ace1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d67a7374e9fc612b19244f25423beb5"><td class="memItemLeft" align="right" valign="top"><a id="a0d67a7374e9fc612b19244f25423beb5"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>sequence_number_</b></td></tr>
<tr class="separator:a0d67a7374e9fc612b19244f25423beb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098ba88b06f98c95fdb3dc4ea75abd40"><td class="memItemLeft" align="right" valign="top"><a id="a098ba88b06f98c95fdb3dc4ea75abd40"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>size_</b></td></tr>
<tr class="separator:a098ba88b06f98c95fdb3dc4ea75abd40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43845780f48374cd3f5b2e8449684a6"><td class="memItemLeft" align="right" valign="top"><a id="ae43845780f48374cd3f5b2e8449684a6"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>app_metadata_</b></td></tr>
<tr class="separator:ae43845780f48374cd3f5b2e8449684a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea17d18b05b39387aec778bfd4a97d1"><td class="memItemLeft" align="right" valign="top"><a id="aeea17d18b05b39387aec778bfd4a97d1"></a>
const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>meta_filename_</b></td></tr>
<tr class="separator:aeea17d18b05b39387aec778bfd4a97d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed8fd986c3bb9c6aca6bf2444898a4d"><td class="memItemLeft" align="right" valign="top"><a id="a7ed8fd986c3bb9c6aca6bf2444898a4d"></a>
const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>meta_tmp_filename_</b></td></tr>
<tr class="separator:a7ed8fd986c3bb9c6aca6bf2444898a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccab60e39dccd5fec2434d916855f2b"><td class="memItemLeft" align="right" valign="top"><a id="adccab60e39dccd5fec2434d916855f2b"></a>
std::vector&lt; std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>files_</b></td></tr>
<tr class="separator:adccab60e39dccd5fec2434d916855f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af555d59c3b1db8dfe1342557c82004e5"><td class="memItemLeft" align="right" valign="top"><a id="af555d59c3b1db8dfe1342557c82004e5"></a>
std::unordered_map&lt; std::string, std::shared_ptr&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1BackupEngineImpl_1_1FileInfo.html">FileInfo</a> &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>file_infos_</b></td></tr>
<tr class="separator:af555d59c3b1db8dfe1342557c82004e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb3ab3368f836f4a9d855201bd0f6b6"><td class="memItemLeft" align="right" valign="top"><a id="a4cb3ab3368f836f4a9d855201bd0f6b6"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>env_</b></td></tr>
<tr class="separator:a4cb3ab3368f836f4a9d855201bd0f6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7258c5f78e099ec24c84aca2117383df"><td class="memItemLeft" align="right" valign="top"><a id="a7258c5f78e099ec24c84aca2117383df"></a>
std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1Env.html">Env</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>env_for_open_</b></td></tr>
<tr class="separator:a7258c5f78e099ec24c84aca2117383df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983196518db240d8113f111ff71fa6fa"><td class="memItemLeft" align="right" valign="top"><a id="a983196518db240d8113f111ff71fa6fa"></a>
std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1FileSystem.html">FileSystem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>fs_</b></td></tr>
<tr class="separator:a983196518db240d8113f111ff71fa6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa82f26e0d4119ff2372e5c2db58921"><td class="memItemLeft" align="right" valign="top"><a id="adfa82f26e0d4119ff2372e5c2db58921"></a>
<a class="el" href="structROCKSDB__NAMESPACE_1_1IOOptions.html">IOOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><b>iooptions_</b> = <a class="el" href="structROCKSDB__NAMESPACE_1_1IOOptions.html">IOOptions</a>()</td></tr>
<tr class="separator:adfa82f26e0d4119ff2372e5c2db58921"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/rocksdb/utilities/backupable/backupable_db.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
