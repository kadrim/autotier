<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>autotier: ROCKSDB_NAMESPACE::ShardedCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">autotier
   </div>
   <div id="projectbrief">Automatic Tiering Fuse Filesystem</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceROCKSDB__NAMESPACE.html">ROCKSDB_NAMESPACE</a></li><li class="navelem"><a class="el" href="classROCKSDB__NAMESPACE_1_1ShardedCache.html">ShardedCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classROCKSDB__NAMESPACE_1_1ShardedCache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ROCKSDB_NAMESPACE::ShardedCache Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ROCKSDB_NAMESPACE::ShardedCache:</div>
<div class="dyncontent">
<div class="center"><img src="classROCKSDB__NAMESPACE_1_1ShardedCache__inherit__graph.png" border="0" usemap="#ROCKSDB__NAMESPACE_1_1ShardedCache_inherit__map" alt="Inheritance graph"/></div>
<map name="ROCKSDB__NAMESPACE_1_1ShardedCache_inherit__map" id="ROCKSDB__NAMESPACE_1_1ShardedCache_inherit__map">
<area shape="rect" title=" " alt="" coords="5,95,187,136"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1LRUCache.html" title=" " alt="" coords="5,184,187,225"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1Cache.html" title=" " alt="" coords="5,5,187,47"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1LRUCacheWithStat.html" title=" " alt="" coords="5,273,187,315"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ROCKSDB_NAMESPACE::ShardedCache:</div>
<div class="dyncontent">
<div class="center"><img src="classROCKSDB__NAMESPACE_1_1ShardedCache__coll__graph.png" border="0" usemap="#ROCKSDB__NAMESPACE_1_1ShardedCache_coll__map" alt="Collaboration graph"/></div>
<map name="ROCKSDB__NAMESPACE_1_1ShardedCache_coll__map" id="ROCKSDB__NAMESPACE_1_1ShardedCache_coll__map">
<area shape="rect" title=" " alt="" coords="108,109,289,151"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1Cache.html" title=" " alt="" coords="5,5,187,47"/>
<area shape="rect" href="classROCKSDB__NAMESPACE_1_1port_1_1Mutex.html" title=" " alt="" coords="211,5,392,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5dab03edd412f1aca571c12db0bb893f"><td class="memItemLeft" align="right" valign="top"><a id="a5dab03edd412f1aca571c12db0bb893f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ShardedCache</b> (size_t capacity, int num_shard_bits, bool strict_capacity_limit, std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> &gt; memory_allocator=nullptr)</td></tr>
<tr class="separator:a5dab03edd412f1aca571c12db0bb893f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30dbaa562817781980fe50ea91d91b6"><td class="memItemLeft" align="right" valign="top"><a id="ae30dbaa562817781980fe50ea91d91b6"></a>
virtual <a class="el" href="classROCKSDB__NAMESPACE_1_1CacheShard.html">CacheShard</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetShard</b> (uint32_t shard)=0</td></tr>
<tr class="separator:ae30dbaa562817781980fe50ea91d91b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728899eca158190a5a7ee9eab1cc3914"><td class="memItemLeft" align="right" valign="top"><a id="a728899eca158190a5a7ee9eab1cc3914"></a>
virtual const <a class="el" href="classROCKSDB__NAMESPACE_1_1CacheShard.html">CacheShard</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetShard</b> (uint32_t shard) const =0</td></tr>
<tr class="separator:a728899eca158190a5a7ee9eab1cc3914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add99be497fead06a988b9bbfd37cd25f"><td class="memItemLeft" align="right" valign="top"><a id="add99be497fead06a988b9bbfd37cd25f"></a>
virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetHash</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) const =0</td></tr>
<tr class="separator:add99be497fead06a988b9bbfd37cd25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee17e65453f13ed9d1b06852f55d0e1"><td class="memItemLeft" align="right" valign="top"><a id="a4ee17e65453f13ed9d1b06852f55d0e1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>SetCapacity</b> (size_t capacity) override</td></tr>
<tr class="separator:a4ee17e65453f13ed9d1b06852f55d0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3a4b10cb62724cda79c0a729266179"><td class="memItemLeft" align="right" valign="top"><a id="a9e3a4b10cb62724cda79c0a729266179"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>SetStrictCapacityLimit</b> (bool strict_capacity_limit) override</td></tr>
<tr class="separator:a9e3a4b10cb62724cda79c0a729266179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db986a0a31d491255866a7b807f2238"><td class="memItemLeft" align="right" valign="top"><a id="a9db986a0a31d491255866a7b807f2238"></a>
virtual <a class="el" href="classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Insert</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, void *value, size_t charge, DeleterFn deleter, <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> **handle, Priority priority) override</td></tr>
<tr class="separator:a9db986a0a31d491255866a7b807f2238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfe5d06138e445084590ee914e6b025"><td class="memItemLeft" align="right" valign="top"><a id="a1bfe5d06138e445084590ee914e6b025"></a>
virtual <a class="el" href="classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Insert</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, void *value, const <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1CacheItemHelper.html">CacheItemHelper</a> *helper, size_t chargge, <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> **handle=nullptr, Priority priority=Priority::LOW) override</td></tr>
<tr class="separator:a1bfe5d06138e445084590ee914e6b025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b2232b82b0ffa6485523022004c36f"><td class="memItemLeft" align="right" valign="top"><a id="ab7b2232b82b0ffa6485523022004c36f"></a>
virtual <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>Lookup</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, <a class="el" href="classROCKSDB__NAMESPACE_1_1Statistics.html">Statistics</a> *stats) override</td></tr>
<tr class="separator:ab7b2232b82b0ffa6485523022004c36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dec00ccc3044047987db0b9a5676b8"><td class="memItemLeft" align="right" valign="top"><a id="a30dec00ccc3044047987db0b9a5676b8"></a>
virtual <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>Lookup</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, const <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1CacheItemHelper.html">CacheItemHelper</a> *helper, const CreateCallback &amp;create_cb, Priority priority, bool wait, <a class="el" href="classROCKSDB__NAMESPACE_1_1Statistics.html">Statistics</a> *stats=nullptr) override</td></tr>
<tr class="separator:a30dec00ccc3044047987db0b9a5676b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c2ada202904b4a3745d73c08744a87"><td class="memItemLeft" align="right" valign="top"><a id="a13c2ada202904b4a3745d73c08744a87"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>Release</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle, bool useful, bool force_erase=false) override</td></tr>
<tr class="separator:a13c2ada202904b4a3745d73c08744a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99fe1973fe7fbac6b84982d6ed4c2093"><td class="memItemLeft" align="right" valign="top"><a id="a99fe1973fe7fbac6b84982d6ed4c2093"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsReady</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) override</td></tr>
<tr class="separator:a99fe1973fe7fbac6b84982d6ed4c2093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b9d1904f750eeb88db5270f9c850ed"><td class="memItemLeft" align="right" valign="top"><a id="a68b9d1904f750eeb88db5270f9c850ed"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Wait</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) override</td></tr>
<tr class="separator:a68b9d1904f750eeb88db5270f9c850ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a0bca9643658a39f92e267a54c142e"><td class="memItemLeft" align="right" valign="top"><a id="a89a0bca9643658a39f92e267a54c142e"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>Ref</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) override</td></tr>
<tr class="separator:a89a0bca9643658a39f92e267a54c142e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c90472f060ffaedf65711bb54c18e37"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classROCKSDB__NAMESPACE_1_1ShardedCache.html#a3c90472f060ffaedf65711bb54c18e37">Release</a> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle, bool force_erase=false) override</td></tr>
<tr class="separator:a3c90472f060ffaedf65711bb54c18e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19061d24db8acb9b7aa75de3e56fb564"><td class="memItemLeft" align="right" valign="top"><a id="a19061d24db8acb9b7aa75de3e56fb564"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Erase</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key) override</td></tr>
<tr class="separator:a19061d24db8acb9b7aa75de3e56fb564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bf8379e31fa6b70aefb15b8f9a21c9"><td class="memItemLeft" align="right" valign="top"><a id="ae5bf8379e31fa6b70aefb15b8f9a21c9"></a>
virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>NewId</b> () override</td></tr>
<tr class="separator:ae5bf8379e31fa6b70aefb15b8f9a21c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d9c8ebc0689f402148b1ef2c176166"><td class="memItemLeft" align="right" valign="top"><a id="a48d9c8ebc0689f402148b1ef2c176166"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetCapacity</b> () const override</td></tr>
<tr class="separator:a48d9c8ebc0689f402148b1ef2c176166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e58c326b0679996ec7f8f8b51fc174b"><td class="memItemLeft" align="right" valign="top"><a id="a6e58c326b0679996ec7f8f8b51fc174b"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>HasStrictCapacityLimit</b> () const override</td></tr>
<tr class="separator:a6e58c326b0679996ec7f8f8b51fc174b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85584f2569b5cb8829a6b87f0599445"><td class="memItemLeft" align="right" valign="top"><a id="ae85584f2569b5cb8829a6b87f0599445"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetUsage</b> () const override</td></tr>
<tr class="separator:ae85584f2569b5cb8829a6b87f0599445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb098241cb50fbe3d4b0bef836c37e55"><td class="memItemLeft" align="right" valign="top"><a id="afb098241cb50fbe3d4b0bef836c37e55"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetUsage</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) const override</td></tr>
<tr class="separator:afb098241cb50fbe3d4b0bef836c37e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23119f6deeefd8bb3eaffbd2b5cbd92d"><td class="memItemLeft" align="right" valign="top"><a id="a23119f6deeefd8bb3eaffbd2b5cbd92d"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetPinnedUsage</b> () const override</td></tr>
<tr class="separator:a23119f6deeefd8bb3eaffbd2b5cbd92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b0ac9df729a6ba5594ca9d62faad5e"><td class="memItemLeft" align="right" valign="top"><a id="a17b0ac9df729a6ba5594ca9d62faad5e"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>ApplyToAllEntries</b> (const std::function&lt; void(const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, void *value, size_t charge, DeleterFn deleter)&gt; &amp;callback, const <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1ApplyToAllEntriesOptions.html">ApplyToAllEntriesOptions</a> &amp;opts) override</td></tr>
<tr class="separator:a17b0ac9df729a6ba5594ca9d62faad5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa59e57029a8b3ad4b2a119b09f379b2"><td class="memItemLeft" align="right" valign="top"><a id="aaa59e57029a8b3ad4b2a119b09f379b2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>EraseUnRefEntries</b> () override</td></tr>
<tr class="separator:aaa59e57029a8b3ad4b2a119b09f379b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac15af06852b58680833e2b64ffa7d88f"><td class="memItemLeft" align="right" valign="top"><a id="ac15af06852b58680833e2b64ffa7d88f"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>GetPrintableOptions</b> () const override</td></tr>
<tr class="separator:ac15af06852b58680833e2b64ffa7d88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b243e2661814e78981436550d38903c"><td class="memItemLeft" align="right" valign="top"><a id="a7b243e2661814e78981436550d38903c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumShardBits</b> () const</td></tr>
<tr class="separator:a7b243e2661814e78981436550d38903c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044e9127943479ee8a4fe64d85d99cab"><td class="memItemLeft" align="right" valign="top"><a id="a044e9127943479ee8a4fe64d85d99cab"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumShards</b> () const</td></tr>
<tr class="separator:a044e9127943479ee8a4fe64d85d99cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classROCKSDB__NAMESPACE_1_1Cache')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">ROCKSDB_NAMESPACE::Cache</a></td></tr>
<tr class="memitem:ae7122f3c8296a74b090a239d46c89e10 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="ae7122f3c8296a74b090a239d46c89e10"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Cache</b> (std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> &gt; allocator=nullptr)</td></tr>
<tr class="separator:ae7122f3c8296a74b090a239d46c89e10 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce6431485e5d2208bff10fe22fe55c9 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="adce6431485e5d2208bff10fe22fe55c9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Cache</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">Cache</a> &amp;)=delete</td></tr>
<tr class="separator:adce6431485e5d2208bff10fe22fe55c9 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620b2995edba654a099639a64fa97353 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a620b2995edba654a099639a64fa97353"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">Cache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">Cache</a> &amp;)=delete</td></tr>
<tr class="separator:a620b2995edba654a099639a64fa97353 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51c8123a621a9de7b52e8219e8bf3ff inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="aa51c8123a621a9de7b52e8219e8bf3ff"></a>
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><b>Name</b> () const =0</td></tr>
<tr class="separator:aa51c8123a621a9de7b52e8219e8bf3ff inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e0823deada145252dd581904d7dcdd inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="ae7e0823deada145252dd581904d7dcdd"></a>
virtual void *&#160;</td><td class="memItemRight" valign="bottom"><b>Value</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle)=0</td></tr>
<tr class="separator:ae7e0823deada145252dd581904d7dcdd inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cb992deec64728bb7c35443cd65589 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a56cb992deec64728bb7c35443cd65589"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetCharge</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) const =0</td></tr>
<tr class="separator:a56cb992deec64728bb7c35443cd65589 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190d61ff166889b7e6b3940897045c1b inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a190d61ff166889b7e6b3940897045c1b"></a>
virtual DeleterFn&#160;</td><td class="memItemRight" valign="bottom"><b>GetDeleter</b> (<a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *handle) const =0</td></tr>
<tr class="separator:a190d61ff166889b7e6b3940897045c1b inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4912c1a245c97ca3e8f4521f65f5875d inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a4912c1a245c97ca3e8f4521f65f5875d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>DisownData</b> ()</td></tr>
<tr class="separator:a4912c1a245c97ca3e8f4521f65f5875d inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a62e4b1dce47cfb6bd878ceb18fe42 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a31a62e4b1dce47cfb6bd878ceb18fe42"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>ApplyToAllCacheEntries</b> (void(*callback)(void *value, size_t charge), bool)</td></tr>
<tr class="separator:a31a62e4b1dce47cfb6bd878ceb18fe42 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79cb1e01c1ff9bb11fb5345f4860f15 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="ad79cb1e01c1ff9bb11fb5345f4860f15"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>memory_allocator</b> () const</td></tr>
<tr class="separator:ad79cb1e01c1ff9bb11fb5345f4860f15 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d88a294defee5d476c38251c752911 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a18d88a294defee5d476c38251c752911"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>WaitAll</b> (std::vector&lt; <a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> * &gt; &amp;)</td></tr>
<tr class="separator:a18d88a294defee5d476c38251c752911 inherit pub_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a78580df45e7c7c3b2f7f1bfa92c3fc76"><td class="memItemLeft" align="right" valign="top"><a id="a78580df45e7c7c3b2f7f1bfa92c3fc76"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Shard</b> (uint32_t hash)</td></tr>
<tr class="separator:a78580df45e7c7c3b2f7f1bfa92c3fc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa02d567b1a850c9b31ecd69330b701e1"><td class="memItemLeft" align="right" valign="top"><a id="aa02d567b1a850c9b31ecd69330b701e1"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>shard_mask_</b></td></tr>
<tr class="separator:aa02d567b1a850c9b31ecd69330b701e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace5916fa802db5ecff57bac6b56a6b4"><td class="memItemLeft" align="right" valign="top"><a id="aace5916fa802db5ecff57bac6b56a6b4"></a>
<a class="el" href="classROCKSDB__NAMESPACE_1_1port_1_1Mutex.html">port::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><b>capacity_mutex_</b></td></tr>
<tr class="separator:aace5916fa802db5ecff57bac6b56a6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd92e737f877d7e12f3f235ae271c271"><td class="memItemLeft" align="right" valign="top"><a id="acd92e737f877d7e12f3f235ae271c271"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>capacity_</b></td></tr>
<tr class="separator:acd92e737f877d7e12f3f235ae271c271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360543e033f58a9165507bec127fed19"><td class="memItemLeft" align="right" valign="top"><a id="a360543e033f58a9165507bec127fed19"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>strict_capacity_limit_</b></td></tr>
<tr class="separator:a360543e033f58a9165507bec127fed19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb23fbd201850b5d884cb9a8588f077f"><td class="memItemLeft" align="right" valign="top"><a id="aeb23fbd201850b5d884cb9a8588f077f"></a>
std::atomic&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>last_id_</b></td></tr>
<tr class="separator:aeb23fbd201850b5d884cb9a8588f077f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classROCKSDB__NAMESPACE_1_1Cache')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">ROCKSDB_NAMESPACE::Cache</a></td></tr>
<tr class="memitem:aae9756924748d66b8202bd4850e9d84d inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="aae9756924748d66b8202bd4850e9d84d"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>Priority</b> { <b>HIGH</b>, 
<b>LOW</b>
 }</td></tr>
<tr class="separator:aae9756924748d66b8202bd4850e9d84d inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5246d821c7889ebb186ee31d6d6f98 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a5f5246d821c7889ebb186ee31d6d6f98"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>SizeCallback</b> = size_t(*)(void *obj)</td></tr>
<tr class="separator:a5f5246d821c7889ebb186ee31d6d6f98 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a03f0a629afa0170352e6a45efc9b49 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a8a03f0a629afa0170352e6a45efc9b49"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>SaveToCallback</b> = <a class="el" href="classROCKSDB__NAMESPACE_1_1Status.html">Status</a>(*)(void *from_obj, size_t from_offset, size_t length, void *out)</td></tr>
<tr class="separator:a8a03f0a629afa0170352e6a45efc9b49 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa2a9ccd95250933110028cfc09724b inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="a9fa2a9ccd95250933110028cfc09724b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>DeleterFn</b> = void(*)(const <a class="el" href="classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> &amp;key, void *value)</td></tr>
<tr class="separator:a9fa2a9ccd95250933110028cfc09724b inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefcb4611580535bdc06d1b46ffff6bb4 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top"><a id="aefcb4611580535bdc06d1b46ffff6bb4"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>CreateCallback</b> = std::function&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1Status.html">Status</a>(void *buf, size_t size, void **out_obj, size_t *charge)&gt;</td></tr>
<tr class="separator:aefcb4611580535bdc06d1b46ffff6bb4 inherit pub_types_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classROCKSDB__NAMESPACE_1_1Cache"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classROCKSDB__NAMESPACE_1_1Cache')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">ROCKSDB_NAMESPACE::Cache</a></td></tr>
<tr class="memitem:ae7f633d81db4f67c00e74c6d626c318c inherit pub_static_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html#ae7f633d81db4f67c00e74c6d626c318c">CreateFromString</a> (const <a class="el" href="structROCKSDB__NAMESPACE_1_1ConfigOptions.html">ConfigOptions</a> &amp;config_options, const std::string &amp;value, std::shared_ptr&lt; <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html">Cache</a> &gt; *result)</td></tr>
<tr class="separator:ae7f633d81db4f67c00e74c6d626c318c inherit pub_static_methods_classROCKSDB__NAMESPACE_1_1Cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3c90472f060ffaedf65711bb54c18e37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c90472f060ffaedf65711bb54c18e37">&#9670;&nbsp;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::ShardedCache::Release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structROCKSDB__NAMESPACE_1_1Cache_1_1Handle.html">Handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_erase</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Release a mapping returned by a previous Lookup(). A released entry might still remain in cache in case it is later looked up by others. If force_erase is set then it also erase it from the cache if there is no other reference to it. Erasing it should call the deleter function that was provided when the entry was inserted.</p>
<p>Returns true if the entry was also erased. </p>

<p>Implements <a class="el" href="classROCKSDB__NAMESPACE_1_1Cache.html#a5b64d3565f6c04cf82ae82dcb473f405">ROCKSDB_NAMESPACE::Cache</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/rocksdb/cache/<a class="el" href="sharded__cache_8h_source.html">sharded_cache.h</a></li>
<li>src/rocksdb/cache/sharded_cache.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
